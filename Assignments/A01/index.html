<!doctype html>
<html>
   <body>
      <canvas width = "570" height = "570" id = "my_Canvas"></canvas>

      <script>
         function processBuffer(glBufferType, theBuffer, dataArray)
         {
            // Bind appropriate array buffer to it
            gl.bindBuffer(glBufferType, theBuffer);
            
            // Differentiate based on whether it is meant to be a vertex buffer or a index buffer
            if (glBufferType === gl.ELEMENT_ARRAY_BUFFER) 
            {gl.bufferData(glBufferType, new Uint16Array(dataArray), gl.STATIC_DRAW);} 
            else 
            {gl.bufferData(glBufferType, new Float32Array(dataArray), gl.STATIC_DRAW);}

            // Unbind the buffer
            gl.bindBuffer(glBufferType, null);
         }

         function makeShader(shaderType, code)
         {
            var returnMe = gl.createShader(shaderType);

            // Attach vertex shader source code
            gl.shaderSource(returnMe, code);

            // Compile the vertex shader
            gl.compileShader(returnMe);

            return returnMe;
         }

         function makeShaderProgram(shaderArray)
         {
            var returnMe = gl.createProgram();

            // Attach a vertex shader
            gl.attachShader(returnMe, vertShader);

            // Attach a fragment shader
            gl.attachShader(returnMe, fragShader);

            // Link both the programs
            gl.linkProgram(returnMe);

            // Use the combined shader program object
            gl.useProgram(returnMe);

            return returnMe;
         }

         /*============== Creating a canvas ====================*/
         var canvas = document.getElementById('my_Canvas');
         gl = canvas.getContext('webgl');
      
         /*======== Defining and storing the geometry ===========*/

         var vertices = [
            -0.5,0.5,0.0,
            -0.5,-0.5,0.0,
            0.5,-0.5,0.0, 
         ];
         
         indices = [0,1,2];
         
         // Create empty buffer objects to store vertex & index buffers
         var vertex_buffer = gl.createBuffer();
         var Index_Buffer = gl.createBuffer();

         // Bind buffers and send data
         processBuffer(gl.ARRAY_BUFFER, vertex_buffer, vertices);
         processBuffer(gl.ELEMENT_ARRAY_BUFFER, Index_Buffer, indices);

         /*================ Shaders ====================*/
         
         // Vertex shader source code
         var vertCode =
            'attribute vec3 coordinates;' +
				
            'void main(void) {' +
               ' gl_Position = vec4(coordinates, 1.0);' +
            '}';

         //fragment shader source code
         var fragCode =
            'void main(void) {' +
               ' gl_FragColor = vec4(1.0, 1.0, 1.0, 0.9);' +
            '}';
            
         // Create a vertex and fragment shader objects
         var vertShader = makeShader(gl.VERTEX_SHADER, vertCode);
         var fragShader = makeShader(gl.FRAGMENT_SHADER, fragCode);

         // Create a shader program object to store
         // the combined shader program
         var shaderProgram = makeShaderProgram([vertShader, fragShader]);



         /*======= Associating shaders to buffer objects =======*/

         // Bind vertex buffer object
         gl.bindBuffer(gl.ARRAY_BUFFER, vertex_buffer);

         // Bind index buffer object
         gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, Index_Buffer);
         
         // Get the attribute location
         var coord = gl.getAttribLocation(shaderProgram, "coordinates");

         // Point an attribute to the currently bound VBO
         gl.vertexAttribPointer(coord, 3, gl.FLOAT, false, 0, 0); 
         
         // Enable the attribute
         gl.enableVertexAttribArray(coord);

         /*=========Drawing the triangle===========*/

         // Clear the canvas
         gl.clearColor(0, 0, 1, 1);

         // Enable the depth test
         gl.enable(gl.DEPTH_TEST);

         // Clear the color buffer bit
         gl.clear(gl.COLOR_BUFFER_BIT);

         // Set the view port
         gl.viewport(0,0,canvas.width,canvas.height);

         // Draw the triangle
         gl.drawElements(gl.TRIANGLES, indices.length, gl.UNSIGNED_SHORT, 0);
      </script>
    </body>
</html>